<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>XV A√±os de Mairim Bermudes Garc√≠a</title>

  <!-- Fuente y estilo -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to bottom right, #fff0f3, #ffe6e9);
      color: #333;
      text-align: center;
      margin: 0;
      padding: 0;
    }

    header {
      background: url('https://i.imgur.com/wT2Xv1f.jpg') center/cover;
      color: white;
      padding: 80px 20px;
      text-shadow: 0 2px 5px rgba(0,0,0,0.4);
      border-bottom: 5px solid #b71c1c;
    }

    header h1 {
      font-size: 3em;
      margin: 0;
      font-weight: 600;
    }

    header h2 {
      font-size: 1.8em;
      margin-top: 10px;
      font-weight: 300;
    }

    section {
      padding: 40px 15px;
    }

    #confirmacion {
      margin-top: 20px;
    }

    #confirmacion form {
      display: inline-block;
      background: white;
      text-align: left;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      max-width: 420px;
      width: 100%;
      position: relative;
      overflow: hidden;
    }

    #confirmacion input,
    #confirmacion select,
    #confirmacion textarea {
      width: 100%;
      margin: 8px 0;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
    }

    #confirmacion button {
      background: #c62828;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      width: 100%;
      margin-top: 10px;
      transition: 0.3s;
    }

    #confirmacion button:hover {
      background: #8e0000;
    }

    #addAcomp {
      background: #f8bbd0;
      color: #880e4f;
      border: none;
      padding: 6px 12px;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 8px;
      font-size: 13px;
    }

    #addAcomp:hover {
      background: #f48fb1;
    }

    #respuesta {
      display: none;
      margin-top: 15px;
      font-weight: bold;
      font-size: 1.1em;
      color: #2e7d32;
    }

    footer {
      background: #b71c1c;
      color: white;
      padding: 20px;
      margin-top: 40px;
      font-size: 0.9em;
    }

    /* Confeti animado */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: red;
      border-radius: 50%;
      animation: fall 3s linear forwards;
    }

    @keyframes fall {
      to {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
      }
    }
  </style>
</head>

<body>
  <header>
    <h1>üíê XV A√±os üíê</h1>
    <h2><strong>Mairim Bermudes Garc√≠a</strong></h2>
    <p>üìÖ 23 de noviembre de 2025 ‚Ä¢ üïñ 7:00 PM</p>
    <p>üìç Sal√≥n Real del Valle, Ensenada B.C.</p>
  </header>

  <section>
    <h2>¬°Est√°s invitado a celebrar conmigo! üåπ</h2>
    <p>Tu presencia har√° de este d√≠a un recuerdo inolvidable.  
      Por favor, confirma tu asistencia llenando el siguiente formulario:</p>

    <div id="confirmacion">
      <form id="formRSVP">
        <label>Nombre:</label>
        <input type="text" name="Nombre" placeholder="Tu nombre" required>

        <label>Familia:</label>
        <input type="text" name="Familia" placeholder="Apellido o familia (opcional)">

        <label>Correo:</label>
        <input type="email" name="Correo" placeholder="Correo electr√≥nico">

        <label>Tel√©fono:</label>
        <input type="tel" name="Telefono" placeholder="Tel√©fono">

        <label>¬øAsistir√°s?</label>
        <select name="Asiste" required>
          <option value="">Selecciona una opci√≥n</option>
          <option value="S√≠">S√≠, asistir√©</option>
          <option value="No">No podr√© ir</option>
        </select>

        <div id="acompanantes">
          <label>Acompa√±antes:</label>
          <input type="text" name="AcompananteNombre[]" placeholder="Nombre del acompa√±ante">
        </div>

        <button type="button" id="addAcomp">+ Agregar otro acompa√±ante</button>

        <label>Mensaje:</label>
        <textarea name="Mensaje" rows="3" placeholder="Escribe un mensaje para Mairim..."></textarea>

        <button type="submit">Enviar confirmaci√≥n</button>
      </form>

      <p id="respuesta"></p>
    </div>
  </section>

  <footer>
    <p>Con cari√±o de la familia Bermudes üíï</p>
  </footer>

  <script>
    // URL de tu Google Apps Script
    const scriptURL = "https://script.google.com/macros/s/AKfycbzd1l34XwkisHZ8J3dmmW6u5YSs2FJUm1uWW1Y7DxxVkWflNtd3TQLFqjXwd9dtUkwIAA/exec";

    // Agregar campos de acompa√±antes din√°micamente
    document.getElementById("addAcomp").addEventListener("click", function() {
      const div = document.createElement("div");
      div.innerHTML = `<input type="text" name="AcompananteNombre[]" placeholder="Nombre del acompa√±ante">`;
      document.getElementById("acompanantes").appendChild(div);
    });

    // Env√≠o del formulario
    document.getElementById("formRSVP").addEventListener("submit", function(event) {
      event.preventDefault();
      const form = event.target;
      const data = new FormData(form);

      fetch(scriptURL, {
        method: "POST",
        body: data
      })
      .then(res => res.text())
      .then(text => {
        mostrarConfeti();
        const respuesta = document.getElementById("respuesta");
        respuesta.style.display = "block";
        respuesta.style.color = "#b71c1c";
        respuesta.textContent = "üíñ ¬°Gracias por confirmar! Tu presencia har√° que este d√≠a sea a√∫n m√°s especial para Mairim. üåπ";
        form.reset();
      })
      .catch(err => {
        const respuesta = document.getElementById("respuesta");
        respuesta.style.display = "block";
        respuesta.style.color = "red";
        respuesta.textContent = "‚ùå Ocurri√≥ un error. Intenta nuevamente.";
      });
    });

    // Confeti con p√©talos rojos üåπ
    function mostrarConfeti() {
      for (let i = 0; i < 40; i++) {
        const petalo = document.createElement("div");
        petalo.classList.add("confetti");
        petalo.style.left = Math.random() * 100 + "vw";
        petalo.style.background = `hsl(${Math.random() * 20 + 350}, 80%, 50%)`;
        petalo.style.animationDuration = (Math.random() * 2 + 2) + "s";
        document.body.appendChild(petalo);
        setTimeout(() => petalo.remove(), 3000);
      }
    }
  </script>
</body>
</html>
